<style>
  .form-messages {
    position: fixed;
    bottom: 10px;
    left: 20px;
    z-index: 9999;
  }

  @media (max-width: 768px) {
    .form-messages {
      left: 50%;
      transform: translateX(-50%);
      width: 95%;
      max-width: 400px;
    }
  }

  .message {
    background-color: #000;
    color: #fff;
    padding: 12px 16px;
    margin-bottom: 10px;
    border-left: 5px solid;
    border-radius: 10px;
    font-size: 14px;
    text-align: left;
    opacity: 0;
    transform: translateX(-100%);
    animation: slideIn 0.3s forwards;
    transition: transform 0.5s, opacity 0.5s;
  }

  .message-error {
    border-color: #dc3545;
  }
  .message-success {
    border-color: #28a745;
  }
  .message-warning {
    border-color: #ffc107;
    color: #000;
  }
  .message-info {
    border-color: #007bff;
  }

  /* Slide-in animation */
  @keyframes slideIn {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
</style>

<div class="form-messages">
  {% if messages %} {% for message in messages %}
  <div
    class="message message-{% if message.tags == 'error' %}error{% elif message.tags == 'success' %}success{% elif message.tags == 'warning' %}warning{% else %}info{% endif %}"
  >
    {{ message }}
  </div>
  {% endfor %} {% endif %} {% if form.non_field_errors %} 
  {% for error in form.non_field_errors %}
  <div class="message message-error">{{ error }}</div>
  {% endfor %} {% endif %}
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const messages = document.querySelectorAll(".form-messages .message");
    messages.forEach((msg) => {
      // Auto-dismiss after 3 seconds
      setTimeout(() => {
        msg.style.transform = "translateX(-100%)";
        msg.style.opacity = "0";
        setTimeout(() => {
          msg.remove();
        }, 500);
      }, 3000);
    });
  });
</script>
